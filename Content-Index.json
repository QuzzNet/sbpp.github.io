[{"title":"Adding Server","href":"/adding_server","content":"Adding server to web panel 1 Navigate to Admin Panel Server Settings Add new server 2 Fill out the information about the server with correct RCON Password and click Add Server when done 3 On refresh record down the ID column for the corresponding server Configuring SourceBanss ServerID 1 Navigate to addonssourcemodconfigssourcebans 2 Edit sourcebanscfg and modify ServerID to the ID value you recorded down 3 Save reupload file and reload maprestart server"},{"title":"Browser Freeze","href":"/browser_freeze","content":"Cloudflare If your site uses Cloudflare as reverseproxy make sure that Rocket Loader is off Rocket Loader bundles mootools incorrect and cause unnecessary loop calls Debugging Most browsers bundles with a performance debugger typically accessible via the hotkey F12 With the performance recorder open start recording navigate to the unresponsive page end the recording after 10 seconds and export it Join our Discordhttpsdiscordgg4Bhj6NU guild and post in helpsupport with the exported performance file attached"},{"title":"Could not find driver \"MySQL\"","href":"/could_not_find_driver","content":"Web Ensure you have installed the mysql extension of your PHP version Ex php72mysql Ensure pdomysql module is loaded check phpinfo for this Plugin Please make sure dbimysqlextso dbimysqlextdll on Windows extension exists and check if it is loaded via sm exts list Make sure the extension is executable via chmod ux dbimysqlextso Install zlib Requires SSH Access 32Bit DebianUbuntu aptget install zlib1g 64Bit DebianUbuntu aptget install lib32z1 3264Bit Fedora yum install zlibi686 3264Bit Mandriva urpmi zlib1 32Bit SUSE zypper install libz1 64Bit SUSE zypper install libz132bit If all of the above does not work use ldd d r dbimysqlextso to look for missing dependencies and use Google to look them up"},{"title":"Database Errors","href":"/database_errors","content":"Access Denied If not selfhosted please make sure your host allows remote connections This problem is often related to user accounts that the server permits View MariaDB Granting for more info Cant connect to MySQL server Normally means that there is no MySQL server running on the system or that you are using an incorrect Unix socket file name or TCPIP port number when trying to connect to the server You should also check that the TCPIP port you are using has not been blocked by a firewall or port blocking service A MySQL client on Unix can connect to the mysqld server in two different ways By using a Unix socket file to connect through a file in the file system default tmpmysqlsock or by using TCPIP which connects through a port number Lost connection to MySQL server Most commonly due to bindaddress not commented out view MariaDB Configuring for more info It may also indicate network connectivity trouble and you should check the condition of your network if this error occurs frequently If the error message includes during query this is probably the case you are experiencing More rarely it can happen when the client is attempting the initial connection to the server In this case if your connecttimeout value is set to only a few seconds you may be able to resolve the problem by increasing it to ten seconds perhaps more if you have a very long distance or slow connection MySQL server has gone away The most common reason for the MySQL server has gone away error is that the server timed out and closed the connection In this case you normally get one of the following error codes which one you get is operating systemdependent Error Code Description CRSERVERGONEERROR The client couldnt send a question to the server CRSERVERLOST The client didnt get an error when writing to the server but it didnt get a full answer or any answer to the question Other common reasons If you send a query to the server that is incorrect or too large If mysqld receives a packet that is too large or out of order it assumes that something has gone wrong with the client and closes the connection If you need big queries for example if you are working with big BLOB columns you can increase the query limit by setting the servers maxallowedpacket variable which has a default value of 4MB You may also need to increase the maximum packet size on the client end Too many connections This means that all available connections are in use by other clients This problem occurs commonly on shared hosting where you are granted the most minimal resources The number of connections permitted is controlled by the maxconnections system variable Table doesnt exist As the error may hint the table does not exist which might suggest your installation is corrupted"},{"title":"Debugging Connection","href":"/debugging_connection","content":"Check list Your host is not blocking any traffic on your game server port UDP Incoming TCP Outgoing Your game server is online to people outside of your network wo any error on binding You can connect to server ingame You can use RCON through ingame console if not view TCP Errortcperror below Using the debug tool In SourceBanss root directory theres a connection debug tool named sbdebugconnectionphp Edit this section of that file with the corresponding server info Config part Change to IP and port of the gameserver you want to test serverip serverport 27015 serverrcon You only need to specify this if you want to test the rcon tcp connection either Leave blank if its only the serverinfo erroring Once complete navigate to the file in your browser and if done properly it will attempt to connect to the specified server UDP Error Make sure your host is not blocking UDP Incoming If hosting locally make sure you are port forwarding correctly Make sure your game server did not ban your web servers IP using listip if banned remove it from cfgbannedipcfg and using removeip IP via RCON TCP Error Make sure your host is not blocking TCP Outgoing Make sure your server is explicitly IP binded do so using ip launch parameter If you are unable to use RCON through ingame console append usercon to launch parameter"},{"title":"Discord Forward Setup","href":"/discord_forward_setup","content":"Prerequisites SteamWorkshttpusersalliedmodsnetkylesbuildsSteamWorks SMJanssonhttpsforumsalliedmodsnetshowthreadphpt184604 Installing 1 Grab the latest sbppdiscordsmx from herehttpsgithubcomsbppdiscordforwardreleases 2 Upload the plugin to addonssourcemodplugins Configuring Add the convar sbppdiscordbanhook and assign the value of the Discord webhook link for where you want ban messages to go Add the convar sbppdiscordreporthook and assign the value of the Discord webhook link for where you want report messages to go If missing it will default to sbppdiscordbanhooks convar value Make sure to put these convars in an executable configuration file preferably autoexeccfg Please also keep in mind that this only pushes the notifications if action is taken ingame it has no affect if you for example ban someone on the web panel"},{"title":"Inquiries","href":"/inquiries","content":"Plugin Ban player option is missing in SourceMods admin menu Most likely SourceMods basebanssmx was still loaded when you installed SourceBans game plugin The game plugin automatically disables basebanssmx but your server needs to be restarted for the Ban player option to come available Some hosters might disallow plugins to move files Make sure the basebanssmx is in the pluginsdisabled folder Web Player list displays Max Players instead of all the players Add hostplayersshow 2 to your servercfg or any startup config file Web Why is Sourcebans not sending email reports to me the owner This is because by default the owner account is not assigned to any permission group Navigate to Admin Settings edit and assign yourself to an admin group Web I accidently locked myself out by having Steam only login how can I fix this Using a database query tool Ex PHPMyAdmin goto settings table and modify configenablesteamlogin setting and set the value to 1 Web Why is the webpanel showing me a blank white page This is because PHP has encountered a fatal error and cannot show any more of the page To show the error message that PHP has produced you will need to navigate to your web servers log directory and look for PHPs error log Apache Default varlogapache2errorlog Plugin Why does the game plugin error log tell me Database failure Could not find database conf sourcebans You forgot to add the sourcebans section to SourceMods databasescfg as instructed in the quickstartdocsquickstart"},{"title":"MariaDB","href":"/mariadb","content":"Adding Repo sudo aptget install softwarepropertiescommon sudo aptkey adv recvkeys keyserver hkpkeyserverubuntucom80 0xF1656F24C74CD1D8 sudo addaptrepository deb archamd64i386ppc64el httpnyc2mirrorsdigitaloceancommariadbrepo102ubuntu xenial main sudo aptget update Installing sudo aptget install mariadbserver Setup Run mysqlsecureinstallation Configuring 1 Navigate to your MariaDB config Ex etcmysqlmariadbconfd50servercnf 2 Comment out bindaddress by prefixing it with a so it looks like bindaddress 127001 3 Restart MySQL via sudo systemctl restart mysql Granting Permission Sign in to MySQL shell via sudo mysql u root p and enter your password Run the following adjusting it to suit your own needs Username The user you wish to create Host The host you wish to whitelist Password The password to use for the user creation GRANT ALL PRIVILEGES ON TO USERNAMEHOST IDENTIFIED BY PASSWORD WITH GRANT OPTION FLUSH PRIVILEGES Done From here on you are done with setting up a MariaDB server"},{"title":"Ports","href":"/ports","content":"Web Panel UDP Incoming on game server port TCP Outgoing on game server port Game Server Port UDP TCP"},{"title":"Quickstart","href":"/quickstart","content":"Prerequisites Before we get started lets make sure you meet these following requirements Web A working MySQLMariaDBdocsmariadb database PHP Version 56 GMP extension for A2S queries Game Sourcemod 17 Metamod Source If youre using Cloudflare Rocket Loader must be disabled otherwise SourceBans will become unresponsive Uploading Download the latest release from the release page Upload everything thats within web folder to either the root of your web server or a folder that you wish to allocate Upload everything thats within game to the game mod directory tf cs dod etc Write Permission Make sure the files is under the web server user configphp file is writable Linux sudo chmod 644 configphp demos folder is writable Linux sudo chmod R 644 demos themesc folder is writable Linux sudo chmod R 774 themesc imagesgames folder is writable Linux sudo chmod R 644 imagesgames imagesmaps folder is writable Linux sudo chmod R 644 imagesmaps Web Installation For demonstration purposes I am going to be using examplecom for the rest of the example you will need to replace it with your own and it may vary depending if you placed it within a directory other than the root directory Ex examplecomsb Navigate to your Sourcebans installer examplecominstall to begin installation 1 Read over the license agreement check I have read and accept the license and click Ok when you are done reading 2 Fill out the information Server Hostname Database host use localhost if its on the same machine otherwise use the IP or any resolvable records Server Port Database port by default it runs on 3306 you will need to change it if the port is difference Username Database username the user to sign in with Password Database password the password for the corresponding user Database Database to use you should create a database if have not already Table Prefix The prefix you want the SourceBans tables to use useful if there are name collisions otherwise leave it at default Steam API Key Your Steam API key which can be obtained here SourceBans URL Your SourceBans site with protocol included Ex httpsexamplecom the http or https is required SourceBans EMail The email address to send password reset andor ban submissions from leave empty if you dont have one to use and dont plan to use it 3 System check look over everything and make sure everything is green before continuing 4 Table creation click Ok when a success notification pops up 5 Fill out the information for your personal account and hit Ok when done Note Steam ID is your SteamID2 ID Plugin Setup Navigate to your addonssourcemodconfigs directory and edit databasescfg file Append and edit the following sourcebans driver default host EDITMEDATABASEHOSTEDITME database EDITMEDATABASEEDITME user EDITMEUSERNAMEEDITME pass EDITMEPASSWORDEDITME port 3306 EDIT IF NEEDED Save reupload and restart server Final Note Please take a look at our other docs if you are having difficulty installing"},{"title":"Removing Default Message","href":"/removing_default_message","content":"Removal 1 Navigate to Admin Panel Webpanel Settings 2 Edit the Intro Text 3 Save Changes and you are done"},{"title":"Translating","href":"/translating","content":"Web Panel 1 Navigate to the root directory of your SourceBans installations themes folder 2 Make a copy of the default theme rename it to a name of your choosing and navigate to it 3 Modify themeconfphp to reflect the configuration and save 4 Modify each file ending tpl file 5 Modify the body content of the file Plugin 1 Navigate to SourceMods translations directory 2 The files you will need to modify are sourcebansphrasestxt sourcecommsphrasestxt and sourcesleuthphrasestxt 3 Within Phrases key section for each sub key sections append a key value pair with the two letter language code being the key and the value being the translation If format kv pair is present be sure to follow it For more information regarding SourceMod translation view SourceMods Translation article"},{"title":"Updating","href":"/updating","content":"Downloading Download the latest ziparchive from the release page Web Panel 1 Backup your database in case of corruption 2 Switch back to the default theme if havent already 3 Upload and overwrite all contents in web to your SourceBans installation 4 Delete install directory 5 Navigate to your SourceBans website and append updater after it Ex examplecomupdater examplecomsbupdater 6 After it displays Installation uptodate delete updater directory and you are done Plugin 1 Upload and overwrite all contents in game to your root game directory Ex tf cs etc 2 Reconfigure the config files in addonssourcemodconfigssourcebans 3 Ensure everything is running smooth and you are done Plugin Upgrading from version game to your root game directory Ex tf cs etc 2 Reconfigure the config files in addonssourcemodconfigssourcebans 3 Delete sourcebanssmx sourcecommssmx sbcheckersmx sbadmcfgsmx SourceSleuthsmx 4 Ensure everything is running smooth and you are done"}]